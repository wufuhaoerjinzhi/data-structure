<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    function ArrayList () {
      this.list = []
      // 插入
      ArrayList.prototype.insert = function (item) {
        this.list.push(item)
      }
      ArrayList.prototype.toString = function () {
        return this.list.join('-')
      }
      // 交换两个位置
      ArrayList.prototype.swap = function (m, n) {
        var _temp = this.list[m]
        this.list[m] = this.list[n]
        this.list[n] = _temp
      }
      // 冒泡排序
      ArrayList.prototype.bubbleSort = function () {
        var len = this.list.length
        for (var j = len - 1; j > 0; j--) {
          for (var i = 0; i < j; i++) {
            // 第一个位置 > 第二个位置，交换位置
            if (this.list[i] > this.list[i + 1]) {
              this.swap(i, i + 1)
            }
          }

        }
      }

      // 选择排序--减少了交换次数，效率高于冒泡
      ArrayList.prototype.selectSort = function () {
        var len = this.list.length
        for (var j = 0; j < len - 1; j++) {
          var min = j //最小数据的下标
          for (var i = min + 1; i < len; i++) {
            if (this.list[min] > this.list[i]) {
              min = i
            }
          }
          // 交换
          this.swap(min, j)
        }
      }

      // 插入排序
      ArrayList.prototype.insertionSort = function () {
        var len = this.list.length
        //2. 外层循环：从第一个位置才开始获取数据，向前面局部有序进行插入
        for (var i = 1; i < len; j++) {
          // 3、内层循环：获取i位置的元素，和前面的数据依次进行比较。
          var temp = this.list[i]
          var j = i
          while (this.list[j - 1] > temp && j > 0) {
            this.list[j] = this.list[j - 1]
            j--
          }
          // 4.将j位置的数据，放置temp就可以
          this.list[j] = temp
        }
      }



      // 希尔排序
      ArrayList.prototype.shellSort = function () {
        var len = this.list.length
        // 1.初始化的增量
        var gap = Math.floor(len / 2)
        // 2. gap不断循环
        while (gap >= 1) {
          // 3.取间隔的所有值,第一个值不需要取，直接拿第二个值，所以i=gap
          for (var i = gap; i < len; i++) {
            var temp = this.list[i]
            var j = i
            while (this.list[j - gap] > temp && j > gap - 1) {
              this.list[j] = this.list[j - gap]
              j -= gap
            }
            //  4.将j位置的数据，放置temp就可以
            this.list[j] = temp
          }
          // 5.增量变化
          gap = Math.floor(gap / 2)
        }
      }

      // // 快排-枢纽
      // ArrayList.prototype.median = function (left, right) {
      //   // 1. 取出中间的数
      //   var center = Math.floor((left + right) / 2)
      //   // 2. 判断大小，并且交换
      //   if (this.list[left] > this.list[center]) {
      //     this.swap(left, center)
      //   }
      //   if (this.list[center] > this.list[right]) {
      //     this.swap(right, center)
      //   }
      //   if (this.list[left] > this.list[right]) {
      //     this.swap(right, left)
      //   }
      //   // 3. 将center换到right-1
      //   this.swap(right - 1, center)
      //   // 4. 返回枢纽
      //   return this.list[right - 1]
      // }

      // // 快速排序
      // ArrayList.prototype.quickSort = function () {
      //   // 第一次传最左边和最右边
      //   this.quick(0, this.list?.length - 1)
      // }
      // ArrayList.prototype.quick = function (left, right) {
      //   // 1.结束条件
      //   if (left >= right) return
      //   // 2、 获取枢纽
      //   var pivot = this.median(left, right)
      //   // 3、 定义变量，用于记录位置
      //   var i = left
      //   var j = right - 1 // 枢纽所在位置

      //   // 4、开始交换
      //   while (true) {

      //     while (this.list[++i] < pivot) {
      //     }

      //     while (this.list[--j] > pivot) {
      //     }

      //     if (i < j) {
      //       this.swap(i, j)
      //     } else {
      //       break
      //     }

      //   }
      //   // 5、放置枢纽
      //   this.swap(i, right - 1)
      //   // 6、分而治之
      //   this.quick(left, i - 1)
      //   this.quick(i + 1, right)

      // }
    }




    var arr = new ArrayList()
    arr.insert(22)
    arr.insert(12)
    arr.insert(7)
    arr.insert(99)
    arr.insert(349)
    arr.insert(23)
    arr.insert(44)
    arr.insert(104)
    // alert(arr)
    // console.log(arr.toString(), '未排序')
    // arr.bubbleSort()
    // console.log(arr.toString(), '冒泡排序')
    // arr.selectSort()
    // console.log(arr.toString(), '选择排序')

    arr.shellSort()
    console.log(arr.toString(), 'x希尔排序')
  </script>

</body>

</html>